@{
    Layout = "~/Views/Shared/_OnePageLayout.cshtml";
}

<html>
<head>
</head>
<style>
    input [type="checkbox"] + label {
    display: block;
    user-select: none;
    margin-left: 100px;
    margin: 20px;
    position: absolute;
}

input[type="checkbox"]:disabled + label {
    opacity:  0.4;
    margin-left: 100px;
	margin: 20px;
	position: absolute;
}
</style>

<body>
    <div id="checkbox-group-1">
        <br>
        <br>
        <h2 style="text-align: center;  color: #124265; font-weight:bold;">Please check the 4 criteria that you would consider  </h2>

        <h2 style="text-align: center;  color: #124265; font-weight:bold;">while deciding on a city to relocate from the list below. </h2>

        <h3 style="text-align: center;">More or less than 4 criteria can not be selected! </h3>
        <h5 style="text-align: center;">After selection, do not forget to click "Continue".</h5>
        <br>

        <input type="checkbox" id="checkbox-group-1-A" style="position: absolute; left: 620px;" value="Tolerance">

        <label for="checkbox-group-1-A" style="position: absolute; left: 640px; font-weight:bold;">Tolerance</label>

        <br>
        <input type="checkbox" id="checkbox-group-1-B" style="position: absolute; left: 620px;" value="Outdoors">
        <label for="checkbox-group-1-B" style="position: absolute; left: 640px; font-weight:bold;">Outdoors</label>
        <br>
        <input type="checkbox" id="checkbox-group-1-C" style="position: absolute; left: 620px;" value="InternetAccess">
        <label for="checkbox-group-1-C" style="position: absolute; left: 640px; font-weight:bold;">Internet Access</label>
        <br>
        <input type="checkbox" id="checkbox-group-1-D" style="position: absolute; left: 620px;" value="Healthcare">
        <label for="checkbox-group-1-D" style="position: absolute; left: 640px; font-weight:bold;">Healthcare</label>
        <br>
        <input type="checkbox" id="checkbox-group-1-E" style="position: absolute; left: 620px;" value="TravelConnectivity">
        <label for="checkbox-group-1-E" style="position: absolute; left: 640px; font-weight:bold;">Travel Connectivity</label>
        <br>
        <input type="checkbox" id="checkbox-group-1-F" style="position: absolute; left: 620px;" value="Economy">
        <label for="checkbox-group-1-F" style="position: absolute; left: 640px; font-weight:bold;">Economy</label>
        <br>
        <input type="checkbox" id="checkbox-group-1-G" style="position: absolute; left: 620px;" value="Taxation">
        <label for="checkbox-group-1-G" style="position: absolute; left: 640px; font-weight:bold;">Taxation</label>
        <br>
        <input type="checkbox" id="checkbox-group-1-H" style="position: absolute; left: 620px;" value="LeisureCulture">
        <label for="checkbox-group-1-H" style="position: absolute; left: 640px; font-weight:bold;"> Leisure&Culture</label>
        <br>
        <input type="checkbox" id="checkbox-group-1-I" style="position: absolute; left: 620px;" value="Housing">
        <label for="checkbox-group-1-I" style="position: absolute; left: 640px; font-weight:bold;">Housing</label>
        <br>
        <input type="checkbox" id="checkbox-group-1-J" style="position: absolute; left: 620px;" value="EnvironmentalQuality">
        <label for="checkbox-group-1-J" style="position: absolute; left: 640px; font-weight:bold;">Environmental Quality</label>
        <br>
        <input type="checkbox" id="checkbox-group-1-K" style="position: absolute; left: 620px;" value="Education">
        <label for="checkbox-group-1-K" style="position: absolute; left: 640px; font-weight:bold;">Education</label>
        <br>
        <input type="checkbox" id="checkbox-group-1-L" style="position: absolute; left: 620px;" value="Costofliving">
        <label for="checkbox-group-1-L" style="position: absolute; left: 640px; font-weight:bold;">Cost of living</label>
        <br>
        <input type="checkbox" id="checkbox-group-1-M" style="position: absolute; left: 620px;" value="Startups">
        <label for="checkbox-group-1-M" style="position: absolute; left: 640px; font-weight:bold;">Startups</label>
        <br>
        <input type="checkbox" id="checkbox-group-1-N" style="position: absolute; left: 620px;" value="Commute">
        <label for="checkbox-group-1-N" style="position: absolute; left: 640px; font-weight:bold;">Commute</label>
        <br>
        <input type="checkbox" id="checkbox-group-1-O" style="position: absolute; left: 620px;" value="Safety">
        <label for="checkbox-group-1-O" style="position: absolute; left: 640px; font-weight:bold;">Safety</label>
        <br>
        <input type="checkbox" id="checkbox-group-1-P" style="position: absolute; left: 620px;" value="BusinessFreedom">
        <label for="checkbox-group-1-P" style="position: absolute; left: 640px; font-weight:bold;">Business Freedom </label>
        <div>
            <br>
            <input type="button" onclick="location.href='/CriteriaComparison/PairwiseComparison';" value="Continue" class="btn btn-info" style="position:absolute; left:620px;" />

        </div>
    </div>
    <br>

   

    <script>
         
        function limitCheckboxes(settings) {
            if (settings.elements === undefined) { return; }
            if (settings.maxCount === undefined) { settings.maxCount = false; return; }

            // Configure list of initial checkboxes that are checked from load
            var checkboxes = Array.from(settings.elements),
                checkboxesChecked = [],
                checkboxesUnchecked = [];

            for (var i = 0; checkboxesChecked < 2 && i < checkboxes.length; i++) {
                if (checkboxes[i].checked == true) {
                    checkboxesChecked.push(checkboxes[i]);
                }
            }

            for (var i = 0; i < settings.elements.length; i++) {
                settings.elements[i].addEventListener('change', function () {
                    if (this.checked == true) {
                        // Add this new checked checkbox to the array
                        checkboxesChecked.push(this);

                        // if the checkboxesChecked reaches maxCount (or if for some reason it's above it)...
                        if (checkboxesChecked.length >= settings.maxCount) {
                            // Define unchecked checkboxes for comparisons
                            checkboxesUnchecked = checkboxes.filter(function (val) {
                                return checkboxesChecked.indexOf(val) == -1;
                            });

                            // Disable all unchecked checkboxes
                            for (var i = 0; i < checkboxesUnchecked.length; i++) {
                                checkboxesUnchecked[i].disabled = true;
                            }
                        }
                    } else {
                        // loop through checkboxesChecked list
                        for (var i = 0; i < checkboxesChecked.length; i++) {
                            // if THIS element id matches LOOP element id, remove it from the array
                            if (this.id === checkboxesChecked[i].id) {
                                checkboxesChecked.splice(i, 1);
                                break;
                            }
                        }

                        // Disable all unchecked checkboxes
                        for (var i = 0; i < checkboxesUnchecked.length; i++) {
                            checkboxesUnchecked[i].disabled = false;
                        }
                    }

                    // Define unchecked checkboxes for comparisons
                    checkboxesUnchecked = checkboxes.filter(function (val) {
                        return checkboxesChecked.indexOf(val) == -1;
                    });
                });
            }
        }

         
        var checkboxGroup1 = document.getElementById('checkbox-group-1'),
            checkboxesGroup1 = checkboxGroup1.querySelectorAll('input[type="checkbox"]')


        limitCheckboxes({
            elements: checkboxesGroup1,
            maxCount: "4"
           
        });




        let values = []; // array to store the selected checkbox values

        for (let checkbox of checkboxesGroup1) {
            checkbox.addEventListener('change', function () {
                let value = this.value;
                if (this.checked) {
                    // add value to array if checkbox is checked
                    values.push(value);
                    console.log(values);
                } else {
                    // remove value from array if checkbox is unchecked
                    let index = values.indexOf(value);
                    if (index > -1) {
                        values.splice(index, 1);
                        console.log(values);
                    }
                  }
                sessionStorage.setItem('SelectedCriteria',JSON.stringify(values));
            });
        }

        
    </script>
</body>


</html>
